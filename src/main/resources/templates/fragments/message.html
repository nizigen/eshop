<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Message Fragment</title>
</head>
<body>
  <!-- 消息提示组件 -->
  <div th:fragment="message">
    <!-- 成功消息 -->
    <div class="toast-container position-fixed top-0 end-0 p-3" style="z-index: 1050;">
      <div th:if="${successMessage}" class="toast align-items-center text-white bg-success border-0" role="alert" aria-live="assertive" aria-atomic="true" data-bs-delay="3000">
        <div class="d-flex">
          <div class="toast-body">
            <i class="bi bi-check-circle me-2"></i>
            <span th:text="${successMessage}"></span>
          </div>
          <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
      </div>
      
      <!-- 错误消息 -->
      <div th:if="${errorMessage}" class="toast align-items-center text-white bg-danger border-0" role="alert" aria-live="assertive" aria-atomic="true" data-bs-delay="3000">
        <div class="d-flex">
          <div class="toast-body">
            <i class="bi bi-exclamation-circle me-2"></i>
            <span th:text="${errorMessage}"></span>
          </div>
          <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
      </div>

      <!-- 警告消息 -->
      <div th:if="${warningMessage}" class="toast align-items-center text-dark bg-warning border-0" role="alert" aria-live="assertive" aria-atomic="true" data-bs-delay="3000">
        <div class="d-flex">
          <div class="toast-body">
            <i class="bi bi-exclamation-triangle me-2"></i>
            <span th:text="${warningMessage}"></span>
          </div>
          <button type="button" class="btn-close me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
      </div>

      <!-- 信息消息 -->
      <div th:if="${infoMessage}" class="toast align-items-center text-white bg-info border-0" role="alert" aria-live="assertive" aria-atomic="true" data-bs-delay="3000">
        <div class="d-flex">
          <div class="toast-body">
            <i class="bi bi-info-circle me-2"></i>
            <span th:text="${infoMessage}"></span>
          </div>
          <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
      </div>
    </div>

    <!-- 初始化 Toast 的 JavaScript -->
    <script th:inline="javascript">
      document.addEventListener('DOMContentLoaded', function() {
        var toastElList = [].slice.call(document.querySelectorAll('.toast'));
        var toastList = toastElList.map(function(toastEl) {
          return new bootstrap.Toast(toastEl, {
            animation: true,
            autohide: true,
            delay: 3000
          });
        });
        toastList.forEach(toast => toast.show());
      });
    </script>
  </div>
</body>
</html> 